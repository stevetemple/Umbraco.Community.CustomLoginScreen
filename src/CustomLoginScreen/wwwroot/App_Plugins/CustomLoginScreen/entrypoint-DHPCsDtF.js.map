{"version":3,"file":"entrypoint-DHPCsDtF.js","sources":["../../../Client/src/entrypoints/entrypoint.ts"],"sourcesContent":["import { UmbEntryPointOnInit, UmbEntryPointOnUnload } from '@umbraco-cms/backoffice/extension-api';\r\n\r\n// load up the manifests here\r\nexport const onInit: UmbEntryPointOnInit = (_host, _extensionRegistry) => {\r\n\r\n  var count = 0;\r\n  var closed = false;\r\n  var sad = false;\r\n\r\n  var images = [\"/App_Plugins/CustomLoginScreen/sophie-eyes-closed.jpg\", \"/App_Plugins/CustomLoginScreen/sophie-sad.jpg\", \"/App_Plugins/CustomLoginScreen/sophie-angry.jpg\", \"/App_Plugins/CustomLoginScreen/sophie-eyes-closed-sad.jpg\"];\r\n\r\n  for (var i = 0; i < images.length; i++) {\r\n    var link = document.createElement(\"link\");\r\n    link.rel = \"preload\";\r\n    link.as = \"image\";\r\n    link.href = images[i];\r\n    document.head.appendChild(link);\r\n  }\r\n  \r\n  setTimeout(() => {\r\n    console.log(\"Waited\");\r\n    console.log(document.querySelector(\"umb-auth\")?.querySelector(\"form\")?.querySelector(\"#password-input\"));\r\n    document.querySelector(\"umb-auth\")?.querySelector(\"form\")?.querySelector(\"#password-input\")?.addEventListener(\"focus\", () => {\r\n      console.log(\"focus\");\r\n      closed = true;\r\n      if (sad) {\r\n        document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-eyes-closed-sad.jpg\");\r\n      } else {\r\n        document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-eyes-closed.jpg\");\r\n      }\r\n      count = 0;\r\n    });;\r\n\r\n    document.querySelector(\"umb-auth\")?.querySelector(\"form\")?.querySelector(\"#password-input\")?.addEventListener(\"blur\", () => {\r\n      console.log(\"blur\");\r\n      closed = false;\r\n      if (sad) {\r\n        document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-sad.jpg\");\r\n      } else {\r\n        document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/umbraco/management/api/v1/security/back-office/graphics/login-background\");\r\n      }\r\n      count = 0;\r\n    });  \r\n  }, 1000);\r\n    \r\n\r\n  setInterval(() => {\r\n\r\n    if (document.querySelector(\"umb-auth\")?.shadowRoot?.querySelector(\"umb-login-page\")?.shadowRoot?.querySelector(\".text-error\")) {\r\n      sad = true;\r\n      if (closed) {\r\n        document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-eyes-closed-sad.jpg\");\r\n      } else {\r\n        if (count > 10) {\r\n          document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-angry.jpg\");\r\n        } else {\r\n          document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-sad.jpg\");\r\n          count++;\r\n        }\r\n      }\r\n    } \r\n  }, 250);\r\n  \r\n};\r\n\r\nexport const onUnload: UmbEntryPointOnUnload = (_host, _extensionRegistry) => {\r\n  console.log('Goodbye from my extension ðŸ‘‹');\r\n};\r\n"],"names":["onInit","_host","_extensionRegistry","count","closed","sad","images","i","link","_a","_b","_c","_d","_e","_f","_g","_h","onUnload"],"mappings":"AAGa,MAAAA,IAA8B,CAACC,GAAOC,MAAuB;AAQxE,WANIC,IAAQ,GACRC,IAAS,IACTC,IAAM,IAENC,IAAS,CAAC,yDAAyD,iDAAiD,mDAAmD,2DAA2D,GAE7NC,IAAI,GAAGA,IAAID,EAAO,QAAQC,KAAK;AAClC,QAAAC,IAAO,SAAS,cAAc,MAAM;AACxC,IAAAA,EAAK,MAAM,WACXA,EAAK,KAAK,SACLA,EAAA,OAAOF,EAAOC,CAAC,GACX,SAAA,KAAK,YAAYC,CAAI;AAAA,EAAA;AAGhC,aAAW,MAAM;AAhBN,QAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAiBT,YAAQ,IAAI,QAAQ,GACZ,QAAA,KAAIN,KAAAD,IAAA,SAAS,cAAc,UAAU,MAAjC,gBAAAA,EAAoC,cAAc,YAAlD,gBAAAC,EAA2D,cAAc,kBAAkB,IAC9FG,KAAAD,KAAAD,IAAA,SAAA,cAAc,UAAU,MAAxB,gBAAAA,EAA2B,cAAc,YAAzC,gBAAAC,EAAkD,cAAc,uBAAhE,QAAAC,EAAoF,iBAAiB,SAAS,MAAM;AAnBpH,UAAAJ,GAAAC;AAoBP,cAAQ,IAAI,OAAO,GACVN,IAAA,IACLC,KACFI,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,gEAErEC,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,0DAE/DP,IAAA;AAAA,IAAA,KAGDa,KAAAD,KAAAD,IAAA,SAAA,cAAc,UAAU,MAAxB,gBAAAA,EAA2B,cAAc,YAAzC,gBAAAC,EAAkD,cAAc,uBAAhE,QAAAC,EAAoF,iBAAiB,QAAQ,MAAM;AA9BnH,UAAAP,GAAAC;AA+BP,cAAQ,IAAI,MAAM,GACTN,IAAA,IACLC,KACFI,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,oDAErEC,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,8EAE/DP,IAAA;AAAA,IAAA;AAAA,KAET,GAAI,GAGP,YAAY,MAAM;AA3CP,QAAAM,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AA6CL,KAAAH,KAAAD,KAAAD,KAAAD,IAAA,SAAS,cAAc,UAAU,MAAjC,gBAAAA,EAAoC,eAApC,gBAAAC,EAAgD,cAAc,sBAA9D,gBAAAC,EAAiF,eAAjF,QAAAC,EAA6F,cAAc,mBACvGP,IAAA,IACFD,KACFS,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,+DAEjEV,IAAQ,MACVW,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,uDAErEC,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,kDACrEZ;AAAA,KAIL,GAAG;AAER,GAEac,IAAkC,CAAChB,GAAOC,MAAuB;AAC5E,UAAQ,IAAI,8BAA8B;AAC5C;"}