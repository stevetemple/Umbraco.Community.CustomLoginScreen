{"version":3,"file":"entrypoint-DCYsU2mG.js","sources":["../../../Client/src/entrypoints/entrypoint.ts"],"sourcesContent":["import { UmbEntryPointOnInit, UmbEntryPointOnUnload } from '@umbraco-cms/backoffice/extension-api';\r\n\r\n\r\n\r\n// load up the manifests here\r\nexport const onInit: UmbEntryPointOnInit = (_host, _extensionRegistry) => {\r\n\r\n  var count = 0;\r\n  var closed = false;\r\n  var sad = false;\r\n\r\n  var image = new Image();\r\n  image.src = \"/App_Plugins/CustomLoginScreen/sophie-eyes-closed.jpg\";\r\n  image.src = \"/App_Plugins/CustomLoginScreen/sophie-sad.jpg\";\r\n  image.src = \"/App_Plugins/CustomLoginScreen/sophie-angry.jpg\"\r\n  image.src = \"/App_Plugins/CustomLoginScreen/sophie-eyes-closed-sad.jpg\";\r\n\r\n  console.log(document.querySelector(\"umb-auth\")?.querySelector(\"form\")?.querySelector(\"#password-input\"));\r\n  document.querySelector(\"umb-auth\")?.querySelector(\"form\")?.querySelector(\"#password-input\")?.addEventListener(\"focus\", () => {\r\n    console.log(\"focus\");\r\n    closed = true;\r\n    if (sad) {\r\n      document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-eyes-closed-sad.jpg\");\r\n    } else {\r\n      document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-eyes-closed.jpg\");\r\n    }\r\n    count = 0;\r\n  });;\r\n\r\n  document.querySelector(\"umb-auth\")?.querySelector(\"form\")?.querySelector(\"#password-input\")?.addEventListener(\"blur\", () => {\r\n    console.log(\"blur\");\r\n    closed = false;\r\n    if (sad) {\r\n      document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-sad.jpg\");\r\n    } else {\r\n      document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/umbraco/management/api/v1/security/back-office/graphics/login-background\");\r\n    }\r\n    count = 0;\r\n   });\r\n\r\n  setInterval(() => {\r\n\r\n    if (document.querySelector(\"umb-auth\")?.shadowRoot?.querySelector(\"umb-login-page\")?.shadowRoot?.querySelector(\".text-error\")) {\r\n      sad = true;\r\n      if (closed) {\r\n        document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-eyes-closed-sad.jpg\");\r\n      } else {\r\n        if (count > 10) {\r\n          document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-angry.jpg\");\r\n        } else {\r\n          document.querySelector(\"umb-auth\")?.setAttribute(\"background-image\", \"/App_Plugins/CustomLoginScreen/sophie-sad.jpg\");\r\n          count++;\r\n        }\r\n      }\r\n    } \r\n  }, 1000);\r\n  \r\n};\r\n\r\n\r\n\r\nexport const onUnload: UmbEntryPointOnUnload = (_host, _extensionRegistry) => {\r\n  console.log('Goodbye from my extension ðŸ‘‹');\r\n};\r\n"],"names":["onInit","_host","_extensionRegistry","_a","_b","_c","_d","_e","_f","_g","_h","count","closed","sad","image","onUnload"],"mappings":"AAKa,MAAAA,IAA8B,CAACC,GAAOC,MAAuB;AAA7D,MAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAEX,MAAIC,IAAQ,GACRC,IAAS,IACTC,IAAM,IAENC,IAAQ,IAAI,MAAM;AACtB,EAAAA,EAAM,MAAM,yDACZA,EAAM,MAAM,iDACZA,EAAM,MAAM,mDACZA,EAAM,MAAM,6DAEJ,QAAA,KAAIV,KAAAD,IAAA,SAAS,cAAc,UAAU,MAAjC,gBAAAA,EAAoC,cAAc,YAAlD,gBAAAC,EAA2D,cAAc,kBAAkB,IAC9FG,KAAAD,KAAAD,IAAA,SAAA,cAAc,UAAU,MAAxB,gBAAAA,EAA2B,cAAc,YAAzC,gBAAAC,EAAkD,cAAc,uBAAhE,QAAAC,EAAoF,iBAAiB,SAAS,MAAM;AAblH,QAAAJ,GAAAC;AAcT,YAAQ,IAAI,OAAO,GACVQ,IAAA,IACLC,KACFV,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,gEAErEC,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,0DAE/DO,IAAA;AAAA,EAAA,KAGDD,KAAAD,KAAAD,IAAA,SAAA,cAAc,UAAU,MAAxB,gBAAAA,EAA2B,cAAc,YAAzC,gBAAAC,EAAkD,cAAc,uBAAhE,QAAAC,EAAoF,iBAAiB,QAAQ,MAAM;AAxBjH,QAAAP,GAAAC;AAyBT,YAAQ,IAAI,MAAM,GACTQ,IAAA,IACLC,KACFV,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,oDAErEC,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,8EAE/DO,IAAA;AAAA,EAAA,IAGV,YAAY,MAAM;AAnCP,QAAAR,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAqCL,KAAAH,KAAAD,KAAAD,KAAAD,IAAA,SAAS,cAAc,UAAU,MAAjC,gBAAAA,EAAoC,eAApC,gBAAAC,EAAgD,cAAc,sBAA9D,gBAAAC,EAAiF,eAAjF,QAAAC,EAA6F,cAAc,mBACvGO,IAAA,IACFD,KACFL,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,+DAEjEI,IAAQ,MACVH,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,uDAErEC,IAAA,SAAS,cAAc,UAAU,MAAjC,QAAAA,EAAoC,aAAa,oBAAoB,kDACrEE;AAAA,KAIL,GAAI;AAET,GAIaI,IAAkC,CAACd,GAAOC,MAAuB;AAC5E,UAAQ,IAAI,8BAA8B;AAC5C;"}